import{_ as L,r as v,b as T,d as P,w as l,V as O,o as u,e,f as k,g as b,h as g,a,i as S,j as V,k as m,l as j,c,m as w,F as N,t as i,n as R,p as z,q as G,s as H,u as K,v as M,x as Q}from"./main-13a4908e.js";const F=h=>(M("data-v-0bb1c632"),h=h(),Q(),h),W=F(()=>a("h2",null,"إضافة بند",-1)),X={class:"d-f-wor"},Y=F(()=>a("h3",null,"إضافة صنف",-1)),Z={key:0},ee=F(()=>a("thead",null,[a("tr",null,[a("th",{class:"text-left"},"الاسم"),a("th",{class:"text-left"},"السعر"),a("th",{class:"text-left"},"الوصف"),a("th",{class:"text-left"},"#")])],-1)),le={key:1},te={id:"textShare"},ae={key:1},oe={__name:"order",setup(h){const d=v(JSON.parse(localStorage.getItem("categories"))||[]),p=v(""),f=v(""),_=v(""),y=v("");function A(){const t={text:document.getElementById("textShare").innerText+`
`};navigator.share(t)}function B(o){const t=o.target.closest(".d-f-wor2");document.querySelectorAll(".d-f-wor2").forEach(r=>{r!==t&&(r.style.visibility="hidden")})}function E(){document.querySelectorAll(".d-f-wor2").forEach(t=>{t.style.visibility="visible"})}function I(){p.value.trim()!==""&&(d.value.push({categoryName:p.value,customers:[]}),p.value="",C())}function U(o){f.value.trim()!==""&&_.value.trim()!==""&&(d.value[o].customers.push({name:f.value,amount:Number(_.value),description:y.value}),f.value="",_.value="",y.value="",C())}function $(o){d.value.splice(o,1),C()}function q(o,t){d.value[o].customers.splice(t,1),C()}const D=T(()=>d.value.reduce((o,t)=>o+t.customers.length,0)),J=T(()=>d.value.reduce((o,t)=>o+t.customers.reduce((s,r)=>s+parseInt(r.amount),0),0));function C(){localStorage.setItem("categories",JSON.stringify(d.value))}return(o,t)=>(u(),P(O,null,{default:l(()=>[e(R,null,{default:l(()=>[e(k,null,{default:l(()=>[e(b,{cols:"12",sm:"6"},{default:l(()=>[e(g,{class:"pa-3"},{default:l(()=>[W,a("div",X,[e(S,{modelValue:p.value,"onUpdate:modelValue":t[0]||(t[0]=s=>p.value=s),label:"اسم الصنف"},null,8,["modelValue"]),e(V,{color:"primary",onClick:I},{default:l(()=>[m("إضافة صنف")]),_:1})])]),_:1})]),_:1})]),_:1}),e(k,null,{default:l(()=>[e(j,null,{default:l(()=>[(u(!0),c(N,null,w(d.value,(s,r)=>(u(),P(z,{key:r,cols:"12"},{default:l(()=>[e(G,null,{default:l(()=>[m(i(s.categoryName),1)]),_:2},1024),e(H,null,{default:l(()=>[e(V,{color:"error",onClick:n=>$(r)},{default:l(()=>[m("حذف الصنف")]),_:2},1032,["onClick"]),e(g,{class:"mt-3 pa-"},{default:l(()=>[e(g,{class:"mt- pa-"},{default:l(()=>[Y,e(k,{class:"d-f-wor2"},{default:l(()=>[e(b,{class:""},{default:l(()=>[e(S,{onFocus:B,onBlur:E,density:"compact",modelValue:f.value,"onUpdate:modelValue":t[1]||(t[1]=n=>f.value=n),label:"اسم المشتري"},null,8,["modelValue"])]),_:1}),e(b,{class:""},{default:l(()=>[e(S,{onFocus:B,onBlur:E,type:"number",density:"compact",modelValue:_.value,"onUpdate:modelValue":t[2]||(t[2]=n=>_.value=n),label:"السعر"},null,8,["modelValue"])]),_:1}),e(b,{class:""},{default:l(()=>[e(S,{onFocus:B,onBlur:E,density:"compact",modelValue:y.value,"onUpdate:modelValue":t[3]||(t[3]=n=>y.value=n),label:"الوصف"},null,8,["modelValue"])]),_:1})]),_:1}),e(V,{color:"primary",onClick:n=>U(r)},{default:l(()=>[m("إضافة مشتري")]),_:2},1032,["onClick"])]),_:2},1024),s.customers.length>0?(u(),c("div",Z,[e(K,null,{default:l(()=>[ee,a("tbody",null,[(u(!0),c(N,null,w(s.customers,(n,x)=>(u(),c("tr",{key:x},[a("td",null,i(n.name),1),a("td",null,i(n.amount),1),a("td",null,i(n.description),1),a("td",null,[e(V,{color:"error",onClick:ne=>q(r,x)},{default:l(()=>[m("x")]),_:2},1032,["onClick"])])]))),128))])]),_:2},1024)])):(u(),c("p",le,"لا توجد بيانات"))]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),e(k,null,{default:l(()=>[d.value.length>0?(u(),P(g,{key:0,class:"mt-3 w-100 px-5"},{default:l(()=>[a("div",te,[(u(!0),c(N,null,w(d.value,(s,r)=>(u(),c("div",{key:r},[a("h2",null,i(s.categoryName),1),(u(!0),c(N,null,w(s.customers,(n,x)=>(u(),c("ul",{class:"ul-display",key:x},[a("li",null,[a("span",null,i(n.amount),1),m(),a("span",null,i(n.description),1)])]))),128))]))),128)),a("p",null,"المبلغ الاجمالي : "+i(J.value),1),a("p",null,"إجمالي عدد الأصناف: "+i(D.value),1)]),e(V,{color:"success",onClick:t[4]||(t[4]=s=>A())},{default:l(()=>[m("مشاركة")]),_:1})]),_:1})):(u(),c("p",ae,"لا توجد بيانات"))]),_:1})]),_:1})]),_:1}))}},se=L(oe,[["__scopeId","data-v-0bb1c632"]]);export{se as default};
